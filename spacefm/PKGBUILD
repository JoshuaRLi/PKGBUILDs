# changes to vendored source
#   - removed automake generated files that were checked into upstream for some reason
#   - removed locale files, it was getting too painful to strip away everything locale without breaking the build

_pkgname=spacefm
pkgname="joshuarli-${_pkgname}"
pkgver=1.0.6.r80.ge257d15
pkgrel=1
arch=('x86_64')
url="https://ignorantguru.github.io/spacefm"
license=('GPL3')
conflicts=("$_pkgname")
provides=("$_pkgname")
makedepends=('intltool' 'gettext')
depends=('ffmpegthumbnailer' 'hicolor-icon-theme' 'shared-mime-info' 'desktop-file-utils' 'cairo' 'pango')

prepare () {
    cd "../${_pkgname}-${pkgver}"
    ./autogen.sh --prefix=/usr --with-gtk3
}

build () {
    cd "../${_pkgname}-${pkgver}"
    make
}

package () {
    cd "../${_pkgname}-${pkgver}"
    make DESTDIR="$pkgdir" install
}
